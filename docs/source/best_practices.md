# Best Practices for Product Telmetry with OpenTelemetry

## Deciding on a Signal Type (Traces vs Metrics vs Logs)
There are three main signal types in OpenTelemetry (and general observability) and each one has tradeoffs that suit them to specific use cases. In OpenTelemetry, each signal type has a specific structure.
- Metrics contain groups of recorded numbers and measurements, and these records contain numeric properties and metric scopes
- Traces contain elements that are groupings of events that share parent/child relationships or context, each event contains event attributes
- Logs contain a text body, each body contains optional attributes

### Metrics
If an event or piece of code you want telemetry for can be presented numerically, then the use case is best for metrics. Several examples include:
- User login event (increment by 1)
- Query event in AI Catalog (increment by 1)
- Response time in milliseconds (add to distribution)
- RAM utilized by a machine in megabytes (gauge the signal)

This does not necessarily mean that the primary interest in the telemetry is the number of user login events. You could be collecting this telemetry event because you're more interested in the characteristics of who logged in. Even still, the metric signal type is the best fit. OpenTelemetry packages metrics of the same name together in groups containing each individual event. It uses a set structure and fixed properties for all metrics to form consist payload contents. This makes metrics easier for backends to collate and query, and you'll be able to see specific metric events containing specific sets of labels. 

### Traces
When the context of a group of events matters, such as a request path or the route of multiple events, traces are the signal type to use. The most common use case is request tracing across distributed systems, with user journeys being another possibility. In the case of tracing, the context is the important part. If the events in code do not matter in relation to each other then they should never be a trace.

Traces are made up of spans. Spans are the individual events, such as a request to Service A, and traces are the envelope grouping spans together. This grouping happens with instrumentation with the sharing of context, which is created on the initial call and typically passed via request headers. The context could also be passed via function parameters for a use case like tracking user journeys within an application.

Spans have parent/child relationships. The context contains the most recent span so when a new span is created and there is context to be extracted the new span can refer to the previous span as its parent. Consider the following example:
- Request from client to Service A
- The request to Service A results in a call to Service B, where the chain of events ends

Trace telemetry for this event would be a single trace. It would contain the parent span representing the call to Service A from the client, and that span's child span which represents the call from Service A to Service B. If service B was also instrumented then there would be a third span. This one would be the child of the span representing the call from Service A to Service B, and not have any child spans itself because there are no more requests generated by this API route.

#### Visual example of a trace payload:
In this example Service A calls service B which calls service C, and the chain ends there.
```
{
    "name": "serviceC.process",
    "context": {
        "trace_id": "0x16beb6ad8f552cd02b12810da6e7ba40",
        "span_id": "0x3f9017e98c9dd191",
        "trace_state": "[]"
    },
    "kind": "SpanKind.INTERNAL",
    "parent_id": "0x1d8619fc37fb1436",
    "start_time": "2026-01-08T20:27:42.584024Z",
    "end_time": "2026-01-08T20:27:42.584052Z",   
}
{
    "name": "serviceB.process",
    "context": {
        "trace_id": "0x16beb6ad8f552cd02b12810da6e7ba40",
        "span_id": "0x1d8619fc37fb1436",
        "trace_state": "[]"
    },
    "kind": "SpanKind.INTERNAL",
    "parent_id": "0x5df37dadbdc8180b",
    "start_time": "2026-01-08T20:27:42.582757Z",
    "end_time": "2026-01-08T20:27:42.585265Z",
}
{
    "name": "serviceA.process",
    "context": {
        "trace_id": "0x16beb6ad8f552cd02b12810da6e7ba40",
        "span_id": "0x5df37dadbdc8180b",
        "trace_state": "[]"
    },
    "kind": "SpanKind.INTERNAL",
    "parent_id": null,
    "start_time": "2026-01-08T20:27:42.581063Z",
    "end_time": "2026-01-08T20:27:42.585825Z",
}
```

### Logs
